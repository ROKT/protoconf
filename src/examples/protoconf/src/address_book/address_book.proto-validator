load("address_book.proto", "AddressBook", "Person")

def test_address_book_not_empty(a):
    if len(a.people) < 1:
        fail("Address book can't be empty")

add_validator(AddressBook, test_address_book_not_empty)

def test_person_id_in_range(p):
    MIN_ID = 10000
    if p.id < MIN_ID:
        fail("Person id must be at least %d, got %d" % (MIN_ID, p.id))

add_validator(Person, test_person_id_in_range)
